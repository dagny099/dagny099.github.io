<header class="hero card revealed">
    <h1>My Journey</h1>
    <p>From vision science → data systems. I bring research rigor, human-centered design, and explainable AI to real-world decisions.</p>
  </header>

  <main class="grid">
    <!-- Throughlines -->
    <section class="card">
      <h2 class="section-title">Throughlines</h2>
      <details class="block" open>
        <summary><strong>Principles I work by</strong></summary>
        <ul>
          <li><strong>Levels of Analysis (Marr):</strong> from computational goals to representations to implementation.</li>
          <li><strong>Human-in-the-Loop:</strong> build tools people actually use.</li>
          <li><strong>Data → Decisions:</strong> experiments → metrics → stories → action.</li>
        </ul>
      </details>
    </section>

    <!-- Timeline -->
    <section class="card">
      <h2 class="section-title">Timeline Highlights (Research → Applied)</h2>

      <!-- Auto-build from JSON if present; otherwise render the static list -->
      <div id="timeline" class="timeline" data-fallback="true">
        <!-- Fallback static items (kept concise, 60/40 bias to applied) -->
        <div class="titem" style="--c:#9b59b6">
          <div class="twhen">MIT · PhD</div>
          <div class="twhat">
            <h3>Visual/Cognitive Science</h3>
            <p>Modeled human gaze across 900+ scenes; experimental rigor that informs my DS/UX today.</p>
          </div>
        </div>
        <div class="titem" style="--c:#3498db">
          <div class="twhen">UT Austin</div>
          <div class="twhat">
            <h3>Research Engineer</h3>
            <p>Speech-processing tools & GUIs used by 12+ staff; automation for repeatable analysis.</p>
          </div>
        </div>
        <div class="titem" style="--c:#27ae60">
          <div class="twhen">Inflective</div>
          <div class="twhat">
            <h3>PM (Healthcare Ops)</h3>
            <p>Digital transformation for ~4M bills/yr; ML doc classification; Lean Six Sigma workshops.</p>
          </div>
        </div>
        <div class="titem" style="--c:#e74c3c">
          <div class="twhen">Metric5 (SEC)</div>
          <div class="twhat">
            <h3>Data Scientist</h3>
            <p>Python + PowerBI reporting; ServiceNow integrations; metadata pipelines & glossary adoption.</p>
          </div>
        </div>
        <div class="titem" style="--c:#f39c12">
          <div class="twhen">Inflective</div>
          <div class="twhat">
            <h3>Technical Consultant</h3>
            <p>GA4 → Looker Studio; ERP process maps; UX/content insights for leadership.</p>
          </div>
        </div>
      </div>

      <div class="callout">
        <h4>Optional:</h4>
        <p>Drop <code>assets/data/barbara_resume_golden.json</code> in place and the timeline will auto-render from it.</p>
      </div>
    </section>

    <!-- Cognitive science influence -->
    <section class="card">
      <h2 class="section-title">How Cognitive Science Shapes My Work</h2>
      <details class="block" open>
        <summary><strong>What persists from the lab</strong></summary>
        <div class="pills">
          <span class="pill">Hypotheses & controls</span>
          <span class="pill">Validation plans</span>
          <span class="pill">Attention-aware dashboards</span>
          <span class="pill">Explainable artifacts</span>
          <span class="pill">Marr’s levels</span>
        </div>
      </details>
    </section>

    <!-- Skills Evolution Chart -->
    <section class="card">
      <h2 class="section-title">Skills Evolution</h2>
      <div class="callout"><strong>Tip:</strong> Hover to see the transition from <em>research</em> → <em>applied DS/ML</em>, with human-centered design trending up.</div>
      <div id="skillsChart" style="height:360px;"></div>
    </section>

    <!-- Now & Next -->
    <section class="card">
      <h2 class="section-title">Now & Next</h2>
      <details class="block" open>
        <summary><strong>What I’m focused on</strong></summary>
        <ul>
          <li><strong>Now:</strong> governance + usability in data products (metadata pipelines, self-serve dashboards, explainable ML)</li>
          <li><strong>Next:</strong> knowledge-graph-powered analytics (entity reconciliation, lineage) & GenAI copilots that teach as they help</li>
        </ul>
      </details>
    </section>

    <!-- Projects -->
    <section class="card">
      <h2 class="section-title">Selected Projects</h2>
      <details class="block" open>
        <summary><strong>Highlights</strong></summary>
        <ul>
          <li><strong>CodeConvo</strong> — Streamlit chat with OpenAI, tidy state, conversation analytics</li>
          <li><strong>Workout Analytics</strong> — ETL → MySQL (AWS RDS); distributions, deltas, trend breaks</li>
        </ul>
      </details>
    </section>
  </main>

  <script>
    // Scroll reveal
    const cards = document.querySelectorAll('.card');
    const obs = new IntersectionObserver((entries)=>entries.forEach(e=>{
      if(e.isIntersecting){ e.target.classList.add('revealed'); obs.unobserve(e.target); }
    }), {threshold:.12, rootMargin:'0px 0px -40px 0px'});
    cards.forEach(c=>obs.observe(c));

    // Skills evolution (illustrative, adjust points as desired)
    Plotly.newPlot('skillsChart', [
      {name:'Academic Research', x:[2005,2010,2015,2017,2021,2025], y:[90,95,70,60,55,50], type:'scatter'},
      {name:'Data Science & ML', x:[2005,2010,2015,2017,2021,2025], y:[20,40,70,85,90,95], type:'scatter'},
      {name:'Business & Consulting', x:[2005,2010,2015,2017,2021,2025], y:[15,30,70,90,85,80], type:'scatter'},
      {name:'Human-Centered Design', x:[2005,2010,2015,2017,2021,2025], y:[35,60,75,80,85,90], type:'scatter'}
    ], {
      title:'Professional Skills Evolution',
      xaxis:{title:'Year'}, yaxis:{title:'Relative focus'},
      showlegend:true, hovermode:'x unified', paper_bgcolor:'rgba(0,0,0,0)', plot_bgcolor:'rgba(0,0,0,0)'
    }, {responsive:true});

    // Optional: build timeline from JSON if available
    (async function(){
      try{
        const res = await fetch('/assets/data/barbara_resume_golden.json', {cache:'no-store'});
        if(!res.ok) return;
        const data = await res.json();
        const el = document.getElementById('timeline');
        if(!el) return;
        el.innerHTML = ''; el.dataset.fallback = 'false';
        const accent = {'public sector':'#4f46e5','healthcare':'#059669','enterprise transformation':'#7c3aed','research':'#0ea5e9'};
        (data.experience||[]).sort((a,b)=>(b.start_date||'').localeCompare(a.start_date||'')).forEach(r=>{
          const c = accent[(r.domains&&r.domains[0])||'research'] || '#667eea';
          const when = `${(r.employer||'').split(' ')[0]} · ${r.title||''}`;
          const item = document.createElement('div'); item.className='titem'; item.style.setProperty('--c',c);
          item.innerHTML = `
            <div class="twhen">${(r.start_date||'').slice(0,4)}${r.end_date?('–'+(r.end_date||'').slice(0,4)):'–Now'}</div>
            <div class="twhat"><h3>${r.title||''} — <span style="opacity:.8">${r.employer||''}</span></h3>
            <p>${(r.highlights && r.highlights[0]) || ''}</p></div>`;
          el.appendChild(item);
        });
      }catch(e){/* silent fallback */}
    })();
  </script>
</body>
</html>
